{
  "metadata": {
    "spec-version": "1.5"
  },
  "configuration-groups": [
    {
      "label": "General",
      "properties": [
        {
          "widget-type": "textbox",
          "label": "URL",
          "name": "url"
        },
        {
          "widget-type": "select",
          "label": "HTTP Method",
          "name": "httpMethod",
          "widget-attributes": {
            "values": [
              "GET",
              "POST",
              "PUT",
              "DELETE",
              "HEAD"
            ],
            "default": "GET"
          }
        },
        {
          "widget-type": "keyvalue",
          "label": "Headers",
          "name": "headers",
          "widget-attributes": {
            "showDelimiter": "false"
          }
        },
        {
          "widget-type": "textarea",
          "name": "requestBody",
          "label": "Request Body",
          "widget-attributes": {
            "rows": "5"
          }
        }
      ]
    },
    {
      "label": "OAuth2",
      "properties": [
        {
          "widget-type": "toggle",
          "label": "OAuth2 Enabled",
          "name": "oauth2Enabled",
          "widget-attributes": {
            "default": "false",
            "on": {
              "label": "True",
              "value": "true"
            },
            "off": {
              "label": "False",
              "value": "false"
            }
          }
        },
        {
          "widget-type": "textbox",
          "label": "Auth URL",
          "name": "authUrl"
        },
        {
          "widget-type": "textbox",
          "label": "Token URL",
          "name": "tokenUrl"
        },
        {
          "widget-type": "textbox",
          "label": "Client ID",
          "name": "clientId"
        },
        {
          "widget-type": "password",
          "label": "Client Secret",
          "name": "clientSecret"
        },
        {
          "widget-type": "textbox",
          "label": "Scopes",
          "name": "scopes"
        },
        {
          "widget-type": "textbox",
          "label": "Refresh Token",
          "name": "refreshToken"
        }
      ]
    },
    {
      "label": "Basic Authentication",
      "properties": [
        {
          "widget-type": "textbox",
          "label": "Username",
          "name": "username"
        },
        {
          "widget-type": "password",
          "label": "Password",
          "name": "password"
        }
      ]
    },
    {
      "label": "HTTP Proxy",
      "properties": [
        {
          "widget-type": "textbox",
          "label": "Proxy URL",
          "name": "proxyUrl"
        },
        {
          "widget-type": "textbox",
          "label": "Username",
          "name": "proxyUsername"
        },
        {
          "widget-type": "password",
          "label": "Password",
          "name": "proxyPassword"
        }
      ]
    },
    {
      "label": "Error Handling",
      "properties": [
        {
          "widget-type": "keyvalue-dropdown",
          "label": "HTTP Errors Handling",
          "name": "httpErrorsHandling",
          "widget-attributes": {
            "default": "2..:Success,.*:Fail",
            "showDelimiter": "false",
            "dropdownOptions": [
              "Success",
              "Fail"
            ],
            "key-placeholder": "HTTP Status Code Regex"
          }
        },
        {
          "widget-type": "radio-group",
          "label": "Non-HTTP Error Handling",
          "name": "errorHandling",
          "widget-attributes": {
            "layout": "inline",
            "default": "stopOnError",
            "options": [
              {
                "id": "stopOnError",
                "label": "Stop on error"
              }
            ]
          }
        },
        {
          "widget-type": "number",
          "label": "Connect Timeout",
          "name": "connectTimeout",
          "widget-attributes": {
            "min": "0",
            "default": "120"
          }
        },
        {
          "widget-type": "number",
          "label": "Read Timeout",
          "name": "readTimeout",
          "widget-attributes": {
            "min": "0",
            "default": "120"
          }
        }
      ]
    },
    {
      "label": "SSL/TLS",
      "properties": [
        {
          "widget-type": "toggle",
          "label": "Verify HTTPS Trust Certificates",
          "name": "verifyHttps",
          "widget-attributes": {
            "default": "true",
            "on": {
              "label": "True",
              "value": "true"
            },
            "off": {
              "label": "False",
              "value": "false"
            }
          }
        },
        {
          "widget-type": "textbox",
          "label": "Keystore File",
          "name": "keystoreFile"
        },
        {
          "widget-type": "select",
          "label": "Keystore Type",
          "name": "keystoreType",
          "widget-attributes": {
            "default": "Java KeyStore (JKS)",
            "values": [
              "Java KeyStore (JKS)",
              "Java Cryptography Extension KeyStore (JCEKS)",
              "PKCS #12"
            ]
          }
        },
        {
          "widget-type": "password",
          "label": "Keystore Password",
          "name": "keystorePassword"
        },
        {
          "widget-type": "textbox",
          "label": "Keystore Key Algorithm",
          "name": "keystoreKeyAlgorithm",
          "widget-attributes": {
            "default": "SunX509"
          }
        },
        {
          "widget-type": "textbox",
          "label": "Keystore Cert Alias",
          "name": "keystoreCertAlias"
        },
        {
          "widget-type": "textbox",
          "label": "TrustStore File",
          "name": "trustStoreFile"
        },
        {
          "widget-type": "select",
          "label": "TrustStore Type",
          "name": "trustStoreType",
          "widget-attributes": {
            "default": "Java KeyStore (JKS)",
            "values": [
              "Java KeyStore (JKS)",
              "Java Cryptography Extension KeyStore (JCEKS)",
              "PKCS #12"
            ]
          }
        },
        {
          "widget-type": "password",
          "label": "TrustStore Password",
          "name": "trustStorePassword"
        },
        {
          "widget-type": "textbox",
          "label": "TrustStore Key Algorithm",
          "name": "trustStoreKeyAlgorithm",
          "widget-attributes": {
            "default": "SunX509"
          }
        },
        {
          "widget-type": "csv",
          "label": "Transport Protocols",
          "name": "transportProtocols",
          "widget-attributes": {
            "default": "TLSv1.2"
          }
        },
        {
          "widget-type": "textbox",
          "label": "Cipher Suites",
          "name": "cipherSuites"
        }
      ]
    }
  ],
  "filters": [
    {
      "name": "Proxy authentication",
      "condition": {
        "property": "proxyUrl",
        "operator": "exists"
      },
      "show": [
        {
          "name": "proxyUsername",
          "type": "property"
        },
        {
          "name": "proxyPassword",
          "type": "property"
        }
      ]
    },
    {
      "name": "OAuth 2 disabled",
      "condition": {
        "property": "oauth2Enabled",
        "operator": "equal to",
        "value": "false"
      },
      "show": [
        {
          "name": "username",
          "type": "property"
        },
        {
          "name": "password",
          "type": "property"
        }
      ]
    },
    {
      "name": "OAuth 2 enabled",
      "condition": {
        "property": "oauth2Enabled",
        "operator": "equal to",
        "value": "true"
      },
      "show": [
        {
          "name": "authUrl",
          "type": "property"
        },
        {
          "name": "tokenUrl",
          "type": "property"
        },
        {
          "name": "clientId",
          "type": "property"
        },
        {
          "name": "clientSecret",
          "type": "property"
        },
        {
          "name": "scopes",
          "type": "property"
        },
        {
          "name": "refreshToken",
          "type": "property"
        }
      ]
    },
    {
      "name": "SSL HTTPS Verification",
      "condition": {
        "property": "verifyHttps",
        "operator": "equal to",
        "value": "true"
      },
      "show": [
        {
          "name": "trustStoreFile",
          "type": "property"
        },
        {
          "name": "trustStoreType",
          "type": "property"
        },
        {
          "name": "trustStorePassword",
          "type": "property"
        },
        {
          "name": "trustStoreKeyAlgorithm",
          "type": "property"
        }
      ]
    }
  ]
}
